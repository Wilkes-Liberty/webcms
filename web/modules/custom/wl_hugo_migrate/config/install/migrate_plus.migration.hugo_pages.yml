id: hugo_pages
label: 'Hugo basic pages'
migration_group: hugo
status: true
source:
  plugin: url
  data_fetcher_plugin: file
  data_parser_plugin: json
  urls:
    - modules/custom/wl_hugo_migrate/data/pages.json
  item_selector: /items
  fields:
  - name: path
    selector: path
  - name: title
    selector: title
  - name: body_html
    selector: body_html
  - name: seo_title
    selector: seo_title
  - name: meta_description
    selector: meta_description
  - name: date
    selector: date
  - name: aliases
    selector: aliases
ids:
  path:
    type: string
process:
  type:
    plugin: default_value
    default_value: basic_page
  title: title
  body/value: body_html
  body/format:
    plugin: default_value
    default_value: basic_html
  path/alias: path
  path/pathauto:
    plugin: default_value
    default_value: 0
  field_seo_title: seo_title
  field_meta_description: meta_description
  status:
    plugin: default_value
    default_value: 1
  langcode: constants/langcode
  uid:
    plugin: default_value
    default_value: 1
  created:
    plugin: callback
    callable: strtotime
    source: date
  changed:
    plugin: callback
    callable: strtotime
    source: date
destination:
  plugin: 'entity:node'
  default_bundle: basic_page
migration_dependencies:
  required:
    - hugo_terms
