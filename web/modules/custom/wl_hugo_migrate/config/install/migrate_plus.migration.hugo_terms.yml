id: hugo_terms
label: 'Hugo taxonomy terms'
migration_group: hugo
status: true
source:
  plugin: url
  data_fetcher_plugin: file
  data_parser_plugin: json
  urls:
    - modules/custom/wl_hugo_migrate/data/terms.json
  item_selector: /items
  fields:
  - name: term_id
    label: 'Term id'
    selector: term_id
  - name: vid
    selector: vid
  - name: name
    selector: name
  - name: parent_id
    selector: parent_id
  - name: path
    selector: path
  - name: description_html
    selector: description_html
  - name: seo_title
    selector: seo_title
  - name: meta_description
    selector: meta_description
  - name: aliases
    selector: aliases
ids:
  term_id:
    type: string
process:
  vid: vid
  name: name
  description/value: description_html
  description/format:
    plugin: default_value
    default_value: basic_html
  path/alias: path
  path/pathauto:
    plugin: default_value
    default_value: 0
  field_seo_title: seo_title
  field_meta_description: meta_description
  field_show_in_nav:
    plugin: default_value
    default_value: 0
  parent:
    - plugin: skip_on_empty
      method: process
      source: parent_id
    - plugin: migration_lookup
      migration: hugo_terms
  status:
    plugin: default_value
    default_value: 1
  langcode: constants/langcode
  # Ensure taxonomy fields use correct bundle
  vid_target: vid
  # Some installs require setting "bundle" explicitly; map it if needed.
  bundle:
    plugin: default_value
    default_value: ''
destination:
  plugin: 'entity:taxonomy_term'
  default_language: en
migration_dependencies: {  }
